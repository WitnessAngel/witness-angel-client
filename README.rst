Witness Angel Client App
#################################

.. image:: https://travis-ci.com/WitnessAngel/witness-angel-client.svg?branch=master
    :target: https://travis-ci.com/WitnessAngel/witness-angel-client

This Kivy app is cross-platform, but is intended to run on mobile phones and gather data using their sensors in a platform-specific fashion.


First steps
===================

The interpreter for `python3.7` (see `pyproject.toml` for full version) must be installed.

Instead of pip, we use `poetry <https://github.com/sdispater/poetry>`_ to manage dependencies.

Use `pip install poetry` to install poetry (or follow its official docs to install it system-wide).

Use `poetry install` to install python dependencies (poetry will create its own virtualenv if you don't have one activated).

Use `pytest` to launch unit-tests (its default arguments are in `setup.cfg`); you might need to add the "src/" directory of this repository to your pythonpath, until a better way to early-setup python paths is found. Use `poetry run pytest` instead, if poetry created its own virtualenv.

.. Use `bash ci.sh` to do a full checkup before committing or pushing your changes.

Use the `Black <https://black.readthedocs.io/en/stable/>`_ formatter to format your python code.

Use `python src/main.py` to launch the main GUI (which in turn will launch the service).

To compile app to Android, we'll use Buildozer and its python-for-android backend (https://buildozer.readthedocs.io/en/latest/).















---------

*OBSOLETE AUTOGENERATED README BELOW*

Witness Angel Client
==========================

A sleek slideshow app that supports swipe gestures.

----

This `Kivy`_ app was generated with `Cookiecutter`_ along with `@hackebrot`_'s `Cookiedozer`_ template.


Features
--------

* Minimal design with flat colors
* Text labels that contain clickable links
* Several slides that can be controlled via swipe gestures
* Settings panel to change the slider transition delay (``<F1>``)


Requirements
------------

To run "Witness Angel Client" you only need `Kivy`_.

Depending on the features that you want to use, you do require additional libs though.

* `pytest`_ - implement readable tests without boilerplate-code
* `pytest-cov`_ - generate an ``html`` coverage report
* `Sphinx`_ - generate a readable ``html`` documentation
* `Buildozer`_ - deploy your app to an Android mobile device


Installation
------------

Clone the repository:

.. code-block:: bash

    $ git clone https://github.com/pakal/witness-angel-client.git
    $ cd witness-angel-client

Create a new virtual environment. Given that you are using `virtualenvwrapper`_:

.. code-block:: bash

    $ mkvirtualenv -a $(pwd) --system-site-packages witness-angel-client

.. note:: If you prefer to set up a fresh env, feel free to omit the according option.
    Chances are that you want to use your systems `Kivy`_ including all its dependencies such as `Cython`_.

Install the app package in "editable" mode:

.. code-block:: bash

    $ python setup.py develop


Usage
-----

Launch the app via:

.. code-block:: bash

    $ witness-angel-client

Run the `pytest`_ test suite:

.. code-block:: bash

    $ make test

Generate an ``html`` coverage report and open it:

.. code-block:: bash

    $ make coverage

Generate `Sphinx`_ ``html`` documentation and open it:

.. code-block:: bash

    $ make docs

Build an android apk with `Buildozer`_:

.. code-block:: bash

    $ make apk

Deploy the app to your android device with `Buildozer`_:

.. code-block:: bash

    $ make deploy


License
-------

Distributed under the terms of the `MIT license`_, "Witness Angel Client" is free and open source software


Issues
------

If you encounter any problems, please `file an issue`_ along with a detailed description.


.. _`@hackebrot`: https://github.com/hackebrot
.. _`Buildozer`: https://github.com/kivy/buildozer
.. _`Cookiecutter`: https://github.com/audreyr/cookiecutter
.. _`Cookiedozer`: https://github.com/hackebrot/cookiedozer
.. _`Cython`: https://pypi.python.org/pypi/Cython/
.. _`Kivy`: https://github.com/kivy/kivy
.. _`MIT License`: http://opensource.org/licenses/MIT
.. _`Sphinx`: http://sphinx-doc.org/
.. _`file an issue`: https://github.com/pakal/witness-angel-client/issues
.. _`pytest-cov`: https://pypi.python.org/pypi/pytest-cov
.. _`pytest`: http://pytest.org/latest/
.. _`virtualenvwrapper`: https://virtualenvwrapper.readthedocs.org/en/latest/
